<!DOCTYPE html>
<html>
<head>
	<title>MongoDB Example | Register</title>

	<!-- 新 Bootstrap 核心 CSS 文件 -->
	<link rel="stylesheet" href="/css/bootstrap.min.css">
	<!-- jQuery文件。务必在bootstrap.min.js 之前引入 -->
	<script src="/js/jquery.min.js"></script>
	<!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
	<script src="/js/bootstrap.min.js"></script>

	<style media="screen">
	.center {
		  position: fixed;
		  top: 50%;
		  left: 50%;
		-webkit-transform: translateX(-50%) translateY(-50%);
	}
	</style>

	<script type="text/javascript">
		function login() {
      var data = $('form').serialize();  //序列号表单字段值
			console.log("提交的数据： " + data);
			$.ajax({
				url: '/login',
				type: 'POST',
				data: data,
				success: function(data, status) {
					console.log('status', status);
					if (status === 'success') {
						location.href = 'home';
					}
				},
				error: function(res, err) {
          if (status === 'error') {
            location.href = 'login';
          }
				}
			});
		}
	</script>
</head>
<body>

<div class="container center">
	<div class="row">
		<div class="col-md-4 col-sm-4 col-sx-4 col-md-offset-4 col-sm-offset-4 col-sx-offset-4">
			<div class="panel panel-default">
			  <div class="panel-heading"><b>用户登录</b></div>
			  <div class="panel-body">
					<form>
					  <div class="form-group">
							<input type="text" class="form-control" id="username" name="uname" placeholder="用户名">
					  </div>
					  <div class="form-group">
							<input type="password" class="form-control" id="password" name="upwd" placeholder="密码">
					  </div>
						<div class="form-group">
					  	<button type="button" class="btn btn-success col-md-12 col-sm-12 col-sx-12" onclick="login()">登录</button>
						</div>

						<div class="form-group">
					  	<a href="#" class="pull-right" style="margin-top: 5px;">注册</a>
						</div>
					</form>
			  </div>
			</div>
		</div>
	</div>

  <div class="row">
      <%- message %>
  </div>
</div>
</body>
</html>
